{"version":3,"sources":["/home/mael/Documents/projects/incidents/dev/test/index.js"],"names":["t","getLocs","get","true","length","form","kind","locationId","_id","happenedAt","myPost","post","console","log"],"mappings":";;AAAA;;AACA;;;;;;;AAOA;AAEA;AACA;AACA;AAEA;AAEA;AACA;AAEA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AAGA,kBAAK,mDAAL,EAA0D,MAAMA,CAAN,IAAW;AAAA;AAAA;AAAA;;AAEjE,QAAMC,UAAU,MAAM,iBAAKC,GAAL,CAAS,kCAAT,CAAtB;AACAF,IAAEG,IAAF,uBAAO,kBAAOF,OAAP,qCAAmB,kBAAO,EAAP,+BAAnB,sBAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAqC,+BAArC;AACAD,IAAEG,IAAF,yBAAO,4DAAQC,MAAR,yBAAkB,CAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAA4B,uDAA5B,EAJiE,CAMjE;;AAEA,QAAMC,OAAO;AAAEC,UAAM,SAAR;AAAmBC,gBAAYN,QAAQ,CAAR,EAAWO,GAA1C;AAA+CC,gBAAY;AAA3D,GAAb;AACA,QAAMC,SAAS,MAAM,iBAAKC,IAAL,CAAU,iCAAV,EAA6C;AAAEN;AAAF,GAA7C,CAArB,CATiE,CAUjE;;AAEAO,UAAQC,GAAR,CAAYH,MAAZ;AACAV,IAAEG,IAAF,yBAAO,4CAAW,IAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAwB,uBAAxB,EAbiE,CAejE;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACH,CA5BD,E,CA+BA;AAEA;AACA;AACA","file":"/home/mael/Documents/projects/incidents/dev/test/index.js","sourcesContent":["import test from \"ava\"\nimport http from \"ava-http\"\n\n\n\n\n\n\n// test(\"/GET localities/ and localities/${localityId}\", async t => {\n\n//     var resp = await http.getResponse(\"http://localhost:8000/localities\");\n//     t.true(typeof resp === typeof [], \"The response is not an object\");\n//     t.true(resp.length >= 1, \"The result must have at least 1 register to test with\");\n\n//     console.log(resp)\n\n//     var result = resp.resp.body;\n//     resp.connection.close()\n\n//     //////////////////////////////////\n\n//     resp = await http.get(\"http://localhost:8000/localities/\" + resp[0]._id);\n//     t.true(typeof resp === typeof {}, \"The response is not an object\");\n//     t.true(resp._id !== undefined, \"The response should return an existing locality\");\n\n//     resp = await http.get(\"http://localhost:8000/localities/\" + Math.random());\n//     t.true(typeof resp === typeof {}, \"The response is not an object\");\n//     t.true(resp._id === undefined, \"The response should return a non existing locality\");\n// });\n\n\ntest(\"/POST incidents/ incidents/${incidentId}/archive/\", async t => {\n\n    const getLocs = await http.get(\"http://localhost:8000/localities\");\n    t.true(typeof getLocs === typeof [], \"The response is not an object\");\n    t.true(getLocs.length >= 1, \"The result must have at least 1 register to test with\");\n\n    //////////////////////////////////\n\n    const form = { kind: \"robbery\", locationId: getLocs[0]._id, happenedAt: \"2018-02-07\" };\n    const myPost = await http.post(\"http://localhost:8000/incidents\", { form });\n    // resp = await http.post(\"http://localhost:8000/incidents\", \"kind=robbery&locationId=1dsewerq&happenedAt=2018-02-07\");\n    \n    console.log(myPost)\n    t.true(myPost === true, \"Response must be true\");\n\n    // const form = { kind: \"robbery\", locationId: resp[0]._id, happenedAt: \"2018-02-07\" };\n    // http.post(\"http://localhost:8000/incidents\", form)\n    //     .then((resp) => {\n    //         console.log(resp)\n    //         t.true(resp === true, \"Response must be true\");\n    //     });\n\n    //////////////////////////////////\n\n    // const second\n    // resp = await http.post(`http://localhost:8000/incidents/${resp}/archive/`, { kind: \"robbery\", locationId: resp[0]._id, happenedAt: \"2018-02-07\" });\n    // console.log(resp)\n    // t.true(resp === true, \"Response must be true\");\n})\n\n\n// test(\"/GET incidents/\", async t => {\n\n//     var resp = await http.get(\"http://localhost:8000/incidents\");\n//     t.true(typeof resp === typeof [], \"The response is not an object\");\n// });\n\n"]}